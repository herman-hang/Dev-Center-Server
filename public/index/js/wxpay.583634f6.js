(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["wxpay"],{"2b33":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"body"},[t._m(0),e("div",{staticClass:"mod-ct"},[e("div",{staticClass:"order"}),e("div",{staticClass:"amount"},[t._v("￥ "+t._s(t.buyForm.price))]),e("div",{staticClass:"qr-image",attrs:{id:"qrcode",title:"打开支付宝扫一扫"}}),e("div",{class:t.isClass?"detail detail-open":"detail",attrs:{id:"orderDetail"}},[e("dl",{directives:[{name:"show",rawName:"v-show",value:t.isClass,expression:"isClass"}],staticClass:"detail-ct"},[e("dt",[t._v("购买商品")]),e("dd",{attrs:{id:"productName"}},[t._v(t._s(t.buyForm.name))]),e("dt",[t._v("商户订单号")]),e("dd",{attrs:{id:"billId"}},[t._v(t._s(t.buyForm.trade_no))]),e("dt",[t._v("创建时间")]),e("dd",{attrs:{id:"createTime"}},[t._v(t._s(t._f("date")(t.buyForm.create_time)))])]),e("a",{staticClass:"arrow",attrs:{href:"javascript:void(0)"},on:{click:t.detail}},[e("i",{staticClass:"ico-arrow"})])]),t._m(1),e("div",{staticClass:"tip-text"})]),t._m(2)])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("h1",{staticClass:"mod-title"},[e("span",{staticClass:"ico-wechat"}),e("span",{staticClass:"text"},[t._v("微信支付")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tip"},[e("span",{staticClass:"dec dec-left"}),e("span",{staticClass:"dec dec-right"}),e("div",{staticClass:"ico-scan"}),e("div",{staticClass:"tip-text"},[e("p",[t._v("请使用支付宝扫一扫")]),e("p",[t._v("扫描二维码完成支付")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"foot"},[e("div",{staticClass:"inner"},[e("p",[t._v("手机用户可保存上方二维码到手机中")]),e("p",[t._v("在微信扫一扫中选择“相册”即可")])])])}],r=e("1da1"),c=(e("96cf"),e("cdb5"),e("d044")),n=e.n(c),o={data:function(){return{buyForm:{price:"",name:"",trade_no:"",create_time:"",code_url:""},isClass:!1,timer:null}},created:function(){this.getParams()},methods:{wxpayReturn:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var e,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$http.get(t.buyForm.notify_url);case 2:e=s.sent,a=e.data,201!==a.code?t.timer=setTimeout(t.wxpayReturn,2e3):(t.$message.success(a.msg),t.$router.push("/authorization/list"));case 5:case"end":return s.stop()}}),s)})))()},getParams:function(){""!==this.$route.params.data&&void 0!==this.$route.params.data&&null!==this.$route.params.data?this.buyForm=this.$route.params.data:this.$message.error("订单丢失，请重新下单！")},qrcode:function(){new n.a("qrcode",{width:230,height:230,text:this.buyForm.code_url,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.a.CorrectLevel.H})},detail:function(){this.isClass=!this.isClass}},mounted:function(){var t=this;this.qrcode(),this.wxpayReturn(),this.$once("hook:beforeDestroy",(function(){clearInterval(t.timer)}))},watch:{$route:"getParams"}},d=o,l=e("2877"),u=Object(l["a"])(d,a,i,!1,null,"431d5144",null);s["default"]=u.exports},cdb5:function(t,s,e){}}]);
//# sourceMappingURL=wxpay.583634f6.js.map