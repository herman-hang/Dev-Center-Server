(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["qqpay"],{"1cfb":function(t,e,s){"use strict";s("75f2")},"75f2":function(t,e,s){},"9eae":function(t,e,s){},d017:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[t._m(0),s("div",{staticClass:"mod-ct"},[s("div",{staticClass:"order"}),s("div",{staticClass:"amount"},[t._v("￥ "+t._s(t.buyForm.price))]),s("div",{staticClass:"qr-image",attrs:{id:"qrcode"}}),s("div",{class:t.isClass?"detail detail-open":"detail",attrs:{id:"orderDetail"}},[s("dl",{directives:[{name:"show",rawName:"v-show",value:t.isClass,expression:"isClass"}],staticClass:"detail-ct"},[s("dt",[t._v("购买商品")]),s("dd",{attrs:{id:"productName"}},[t._v(t._s(t.buyForm.name))]),s("dt",[t._v("商户订单号")]),s("dd",{attrs:{id:"billId"}},[t._v(t._s(t.buyForm.trade_no))]),s("dt",[t._v("创建时间")]),s("dd",{attrs:{id:"createTime"}},[t._v(t._s(t._f("date")(t.buyForm.create_time)))])]),s("a",{staticClass:"arrow",attrs:{href:"javascript:void(0)"},on:{click:t.detail}},[s("i",{staticClass:"ico-arrow"})])]),t._m(1),s("div",{staticClass:"tip-text"})]),t._m(2)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"mod-title"},[s("span",{staticClass:"ico-wechat"}),s("span",{staticClass:"text"},[t._v("QQ钱包支付")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip"},[s("span",{staticClass:"dec dec-left"}),s("span",{staticClass:"dec dec-right"}),s("div",{staticClass:"ico-scan"}),s("div",{staticClass:"tip-text"},[s("p",[t._v("请使用手机QQ扫一扫")]),s("p",[t._v("扫描二维码完成支付")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"foot"},[s("div",{staticClass:"inner"},[s("p",[t._v("手机用户可保存上方二维码到手机中")]),s("p",[t._v("在手机QQ扫一扫中选择“相册”即可")])])])}],r=s("1da1"),c=(s("96cf"),s("9eae"),s("d044")),n=s.n(c),o={data:function(){return{buyForm:{price:"",name:"",trade_no:"",create_time:"",code_url:""},isClass:!1,timer:null}},created:function(){this.getParams()},methods:{qqpayReturn:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(t.buyForm.notify_url);case 2:s=e.sent,a=s.data,201!==a.code?t.timer=setTimeout(t.qqpayReturn,2e3):(t.$message.success(a.msg),t.$router.push("/authorization/list"));case 5:case"end":return e.stop()}}),e)})))()},getParams:function(){""!==this.$route.params.data&&void 0!==this.$route.params.data&&null!==this.$route.params.data?this.buyForm=this.$route.params.data:this.$message.error("订单丢失，请重新下单！")},qrcode:function(){new n.a("qrcode",{width:230,height:230,text:this.buyForm.code_url,colorDark:"#000000",colorLight:"#ffffff",correctLevel:n.a.CorrectLevel.H})},detail:function(){this.isClass=!this.isClass}},mounted:function(){var t=this;this.qrcode(),this.qqpayReturn(),this.$once("hook:beforeDestroy",(function(){clearInterval(t.timer)}))},watch:{$route:"getParams"}},d=o,l=(s("1cfb"),s("2877")),u=Object(l["a"])(d,a,i,!1,null,"7ae5715e",null);e["default"]=u.exports}}]);
//# sourceMappingURL=qqpay.8b644aa1.js.map