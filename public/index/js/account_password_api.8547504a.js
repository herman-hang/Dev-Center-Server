(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account_password_api"],{"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("d3b7");function a(e,t,r,a,i,n,o){try{var s=e[n](o),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(a,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var o=e.apply(t,r);function s(e){a(o,i,n,s,l,"next",e)}function l(e){a(o,i,n,s,l,"throw",e)}s(void 0)}))}}},"25d1":function(e,t,r){},"3cce":function(e,t,r){"use strict";r("968b")},"61f7":function(e,t,r){"use strict";function a(e,t,r){if(""===t||void 0===t||null==t)r();else{var a=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;a.test(t)||""===t?r():r(new Error("请输入正确的IP地址"))}}function i(e,t,r){var a=/^[1][3,4,5,7,8][0-9]{9}$/;""===t||void 0===t||null==t||a.test(t)||""===t?r():r(new Error("请输入正确的手机号码"))}function n(e,t,r){var a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;""===t||void 0===t||null==t||a.test(t)||""===t?r():r(new Error("请输入正确的邮箱"))}r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}))},"968b":function(e,t,r){},"96cf":function(e,t,r){var a=function(e){"use strict";var t,r=Object.prototype,a=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,r){return e[t]=r}}function c(e,t,r,a){var i=t&&t.prototype instanceof h?t:h,n=Object.create(i.prototype),o=new j(a||[]);return n._invoke=_(e,r,o),n}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var m="suspendedStart",d="suspendedYield",p="executing",f="completed",b={};function h(){}function v(){}function g(){}var w={};l(w,n,(function(){return this}));var y=Object.getPrototypeOf,F=y&&y(y(M([])));F&&F!==r&&a.call(F,n)&&(w=F);var x=g.prototype=h.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,n,o,s){var l=u(e[i],e,n);if("throw"!==l.type){var c=l.arg,m=c.value;return m&&"object"===typeof m&&a.call(m,"__await")?t.resolve(m.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(m).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var i;function n(e,a){function n(){return new t((function(t,i){r(e,a,t,i)}))}return i=i?i.then(n,n):n()}this._invoke=n}function _(e,t,r){var a=m;return function(i,n){if(a===p)throw new Error("Generator is already running");if(a===f){if("throw"===i)throw n;return L()}r.method=i,r.arg=n;while(1){var o=r.delegate;if(o){var s=$(o,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var l=u(e,t,r);if("normal"===l.type){if(a=r.done?f:d,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=f,r.method="throw",r.arg=l.arg)}}}function $(e,r){var a=e.iterator[r.method];if(a===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,$(e,r),"throw"===r.method))return b;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var i=u(a,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var n=i.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function M(e){if(e){var r=e[n];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){while(++i<e.length)if(a.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:L}}function L(){return{value:t,done:!0}}return v.prototype=g,l(x,"constructor",g),l(g,"constructor",v),v.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(k.prototype),l(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,a,i,n){void 0===n&&(n=Promise);var o=new k(c(t,r,a,i),n);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),l(x,s,"Generator"),l(x,n,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=M,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(a,i){return s.type="throw",s.arg=e,r.next=a,i&&(r.method="next",r.arg=t),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var i=a.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,a){return this.delegate={iterator:M(e),resultName:r,nextLoc:a},"next"===this.method&&(this.arg=t),b}},e}(e.exports);try{regeneratorRuntime=a}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},a67f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("账号管理")]),r("el-breadcrumb-item",[e._v("我的资料")])],1),r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("strong",[e._v("我的资料")])]),r("el-form",{ref:"materialFormRef",attrs:{model:e.materialForm,rules:e.materialFormRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"user"}},[r("span",[e._v(e._s(e.materialForm.user))])]),r("el-form-item",{attrs:{label:"头像",prop:"photo"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{accept:".jpg,.jpeg,.png,.bmp",action:e.updateUrl,headers:e.headers,"show-file-list":!1,"on-success":e.handleAvatarSuccessAddPhoto,"before-upload":e.beforeAvatarUpload,name:"image"}},[e.materialForm.photo?r("img",{staticClass:"avatar",attrs:{src:e.materialForm.photo}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[r("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.materialForm.nickname,callback:function(t){e.$set(e.materialForm,"nickname",t)},expression:"materialForm.nickname"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.materialForm.sex,callback:function(t){e.$set(e.materialForm,"sex",t)},expression:"materialForm.sex"}},[r("el-option",{attrs:{label:"女",value:"0"}}),r("el-option",{attrs:{label:"男",value:"1"}}),r("el-option",{attrs:{label:"保密",value:"2"}})],1)],1),r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.materialForm.age,callback:function(t){e.$set(e.materialForm,"age",e._n(t))},expression:"materialForm.age"}})],1),r("el-form-item",{attrs:{label:"地区",prop:"region"}},[r("el-input",{attrs:{placeholder:"请输入地区"},model:{value:e.materialForm.region,callback:function(t){e.$set(e.materialForm,"region",t)},expression:"materialForm.region"}})],1),r("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[r("span",[e._v(e._s(e.materialForm.mobile))]),r("span",{staticClass:"bind"},[""==e.materialForm.mobile?r("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.mobile("1")}}},[e._v("立即绑定")]):r("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.mobile("2")}}},[e._v("解除绑定")])])]),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("span",[e._v(e._s(e.materialForm.email))]),r("span",{staticClass:"bind"},[""==e.materialForm.email?r("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.email("1")}}},[e._v("立即绑定")]):r("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.email("2")}}},[e._v("解除绑定")])])]),r("el-form-item",{attrs:{label:"QQ号码",prop:"qq"}},[r("el-input",{attrs:{placeholder:"请输入QQ号码"},model:{value:e.materialForm.qq,callback:function(t){e.$set(e.materialForm,"qq",t)},expression:"materialForm.qq"}})],1),r("el-form-item",{attrs:{label:"简介",prop:"introduction"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入简介"},model:{value:e.materialForm.introduction,callback:function(t){e.$set(e.materialForm,"introduction",t)},expression:"materialForm.introduction"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.materialEdit}},[e._v("提交")])],1)],1),r("el-dialog",{attrs:{title:e.bindMobileForm.title,visible:e.bindMobileDialogVisible,width:"30%"},on:{"update:visible":function(t){e.bindMobileDialogVisible=t},close:e.mobileFormClose}},[r("el-form",{ref:"mobileFormRef",attrs:{model:e.bindMobileForm,rules:e.bindMobileFormRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[r("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.bindMobileForm.mobile,callback:function(t){e.$set(e.bindMobileForm,"mobile",t)},expression:"bindMobileForm.mobile"}})],1),r("el-form-item",{attrs:{label:"验证码",prop:"code"}},[r("div",{staticClass:"captcha-code"},[r("el-input",{ref:"codeInput",staticClass:"code",attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-key"},model:{value:e.bindMobileForm.code,callback:function(t){e.$set(e.bindMobileForm,"code",t)},expression:"bindMobileForm.code"}}),r("el-button",{staticClass:"send-code",attrs:{plain:""},on:{click:function(t){return e.sendCode("1")}}},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.sendCodeBtn,expression:"sendCodeBtn"}]},[e._v("发送验证码")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.sendCodeBtn,expression:"!sendCodeBtn"}]},[e._v(e._s(e.second)+" s")])])],1)])],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.bindMobileDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitMobile}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:e.bindEmailForm.title,visible:e.bindEmailDialogVisible,width:"30%"},on:{"update:visible":function(t){e.bindEmailDialogVisible=t},close:e.emailFormClose}},[r("el-form",{ref:"emailFormRef",attrs:{model:e.bindEmailForm,rules:e.bindEmailFormRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.bindEmailForm.email,callback:function(t){e.$set(e.bindEmailForm,"email",t)},expression:"bindEmailForm.email"}})],1),r("el-form-item",{attrs:{label:"验证码",prop:"code"}},[r("div",{staticClass:"captcha-code"},[r("el-input",{ref:"codeInput",staticClass:"code",attrs:{placeholder:"请输入验证码","prefix-icon":"el-icon-key"},model:{value:e.bindEmailForm.code,callback:function(t){e.$set(e.bindEmailForm,"code",t)},expression:"bindEmailForm.code"}}),r("el-button",{staticClass:"send-code",attrs:{plain:""},on:{click:function(t){return e.sendCode("2")}}},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.sendCodeBtn,expression:"sendCodeBtn"}]},[e._v("发送验证码")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.sendCodeBtn,expression:"!sendCodeBtn"}]},[e._v(e._s(e.second)+" s")])])],1)])],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.bindEmailDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitEmail}},[e._v("确 定")])],1)],1)],1)],1)},i=[],n=r("1da1"),o=(r("96cf"),r("61f7")),s={data:function(){return{materialForm:{},materialFormRules:{sex:[{required:!0,message:"请选择性别",trigger:"blur"}],age:[{type:"number",min:0,max:120,message:"年龄只能是0到120岁之间",trigger:"blur"}],qq:[{min:5,max:11,message:"QQ号码只能是5到11位之间",trigger:"blur"}]},updateUrl:window.serverConfig.BASE_API+"base/upload",headers:{Authorization:window.sessionStorage.getItem("user_token")},bindMobileDialogVisible:!1,bindEmailDialogVisible:!1,bindMobileForm:{title:"",mobile:"",code:"",type:""},bindEmailForm:{title:"",mobile:"",code:"",type:""},bindMobileFormRules:{mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:o["c"],trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},bindEmailFormRules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:o["a"],trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},sendCodeBtn:!0,second:60,timer:null}},created:function(){this.material()},methods:{material:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("Account/material");case 2:if(r=t.sent,a=r.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error(a.msg));case 6:e.materialForm=a.data;case 7:case"end":return t.stop()}}),t)})))()},materialEdit:function(){var e=this;this.$refs.materialFormRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("Account/materialEdit",e.materialForm);case 4:if(a=t.sent,i=a.data,200===i.code){t.next=8;break}return t.abrupt("return",e.$message.error(i.msg));case 8:e.$message.success(i.msg),e.material();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},mobile:function(e){"1"===e?(this.bindMobileForm.title="绑定手机号码",this.bindMobileForm.type="1"):"2"===e&&(this.bindMobileForm.title="解除手机号码",this.bindMobileForm.type="0"),this.bindMobileDialogVisible=!0},email:function(e){"1"===e?(this.bindEmailForm.title="绑定邮箱",this.bindEmailForm.type="1"):"2"===e&&(this.bindEmailForm.title="解除邮箱",this.bindEmailForm.type="0"),this.bindEmailDialogVisible=!0},sendCode:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,i,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("1"!==e){r.next=12;break}if(""!==t.bindMobileForm.mobile){r.next=3;break}return r.abrupt("return",t.$message.error("手机号码不能为空！"));case 3:return r.next=5,t.$http.post("Account/bindMobileSendCode",t.bindMobileForm);case 5:if(a=r.sent,i=a.data,200===i.code){r.next=9;break}return r.abrupt("return",t.$message.error(i.msg));case 9:t.$message.success(i.msg),r.next=22;break;case 12:if("2"!==e){r.next=22;break}if(""!==t.bindEmailForm.email){r.next=15;break}return r.abrupt("return",t.$message.error("邮箱不能为空！"));case 15:return r.next=17,t.$http.post("Account/bindEmailSendCode",t.bindEmailForm);case 17:if(n=r.sent,o=n.data,200===o.code){r.next=21;break}return r.abrupt("return",t.$message.error(o.msg));case 21:t.$message.success(o.msg);case 22:t.timer||(t.sendCodeBtn=!1,t.timer=setInterval((function(){t.second>0&&t.second<=60?t.second--:(t.sendCodeBtn=!0,clearInterval(t.timer),t.second=60,t.timer=null)}),1e3));case 23:case"end":return r.stop()}}),r)})))()},submitMobile:function(){var e=this;this.$refs.mobileFormRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("Account/bindMobile",e.bindMobileForm);case 4:if(a=t.sent,i=a.data,200===i.code){t.next=8;break}return t.abrupt("return",e.$message.error(i.msg));case 8:e.$message.success(i.msg),e.bindMobileDialogVisible=!1,e.material();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},submitEmail:function(){var e=this;this.$refs.emailFormRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("Account/bindEmail",e.bindEmailForm);case 4:if(a=t.sent,i=a.data,200===i.code){t.next=8;break}return t.abrupt("return",e.$message.error(i.msg));case 8:e.$message.success(i.msg),e.bindEmailDialogVisible=!1,e.material();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},mobileFormClose:function(){this.$refs.mobileFormRef.resetFields()},emailFormClose:function(){this.$refs.emailFormRef.resetFields()},handleAvatarSuccessAddPhoto:function(e,t){if(200!==e.code)return this.$message.error(e.msg);this.materialForm.photo=e.data[0],this.$message.success(e.msg)},beforeAvatarUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"image/bmp"===e.type,r=e.size/1024/1024<10;return t?r?t&&r:(this.$message.error("上传图片大小不能超过 10MB!"),!1):(this.$message.error("上传的图片只能是 JPG JPEG PNG BMP格式!"),!1)}}},l=s,c=(r("f7ed"),r("2877")),u=Object(c["a"])(l,a,i,!1,null,"0a18d708",null);t["default"]=u.exports},b6d9:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("账号管理")]),r("el-breadcrumb-item",[e._v("API设置")])],1),r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("strong",[e._v("API设置")])]),r("el-form",{ref:"apiFormRef",attrs:{model:e.apiForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"API:",prop:"api"}},[r("span",{staticClass:"item"},[e._v(e._s(e.apiForm.api))])]),r("el-form-item",{attrs:{label:"KEY:",prop:"api_key"}},[r("span",{staticClass:"item"},[e._v(e._s(e.apiForm.api_key))]),""==e.apiForm.api_key?r("el-button",{staticClass:"btn",attrs:{size:"mini"},on:{click:e.reset}},[e._v("生成")]):r("el-button",{staticClass:"btn",attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)},i=[],n=r("1da1"),o=(r("96cf"),{data:function(){return{apiForm:{}}},created:function(){this.api()},methods:{api:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("Account/api");case 2:if(r=t.sent,a=r.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error(a.msg));case 6:null===a.data.api_key&&(a.data.api_key=""),e.apiForm=a.data;case 8:case"end":return t.stop()}}),t)})))()},reset:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("Account/resetKey");case 2:if(r=t.sent,a=r.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error(a.msg));case 6:e.$message.success(a.msg),e.api();case 8:case"end":return t.stop()}}),t)})))()}}}),s=o,l=(r("3cce"),r("2877")),c=Object(l["a"])(s,a,i,!1,null,"04c0871a",null);t["default"]=c.exports},d135:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("账号管理")]),r("el-breadcrumb-item",[e._v("修改密码")])],1),r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("strong",[e._v("修改密码")])]),r("el-form",{ref:"passwordEditFormRef",attrs:{model:e.passwordEditForm,rules:e.passwordEditFormRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"user"}},[r("span",[e._v(e._s(e.passwordEditForm.user))])]),r("el-form-item",{attrs:{label:"原始密码",prop:"mpassword"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入原始密码"},model:{value:e.passwordEditForm.mpassword,callback:function(t){e.$set(e.passwordEditForm,"mpassword",t)},expression:"passwordEditForm.mpassword"}})],1),r("el-form-item",{attrs:{label:"新密码",prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.passwordEditForm.password,callback:function(t){e.$set(e.passwordEditForm,"password",t)},expression:"passwordEditForm.password"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"passwords"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:e.passwordEditForm.passwords,callback:function(t){e.$set(e.passwordEditForm,"passwords",t)},expression:"passwordEditForm.passwords"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.passEdit}},[e._v("提交")])],1)],1)],1)],1)},i=[],n=r("1da1"),o=(r("96cf"),{data:function(){var e=this,t=function(t,r,a){r!==e.passwordEditForm.password?a(new Error("两次输入密码不一致！")):a()};return{passwordEditForm:{mpassword:"",password:"",passwords:""},passwordEditFormRules:{mpassword:[{required:!0,message:"请输入原始密码",trigger:"blur"}],password:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:15,message:"新密码只能是6到15位之间",trigger:"blur"}],passwords:[{required:!0,message:"请输入确认密码",trigger:"blur"},{min:6,max:15,message:"确认密码只能是6到15位之间",trigger:"blur"},{validator:t,trigger:"blur"}]}}},created:function(){this.material()},methods:{material:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("Account/material");case 2:if(r=t.sent,a=r.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error(a.msg));case 6:e.passwordEditForm=a.data;case 7:case"end":return t.stop()}}),t)})))()},passEdit:function(){var e=this;this.$refs.passwordEditFormRef.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("Account/passwordEdit",e.passwordEditForm);case 4:if(a=t.sent,i=a.data,200===i.code){t.next=8;break}return t.abrupt("return",e.$message.error(i.msg));case 8:e.$message.success(i.msg),sessionStorage.removeItem("user_token"),e.$router.push("/login");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}),s=o,l=r("2877"),c=Object(l["a"])(s,a,i,!1,null,"51bcaedb",null);t["default"]=c.exports},f7ed:function(e,t,r){"use strict";r("25d1")}}]);
//# sourceMappingURL=account_password_api.8547504a.js.map